# union find 알고리즘

서로소 집합 (Disjoint-Set) 알고리즘이라고도 불리는 알고리즘이다. 구체적으로 여러 개의 노드가 존재할 때 두 개의 노드를 선택해서, 현재 이 노드가 서로 같은 그래프에 속하는지 판별하는 알고리즘이다.

### Disjoint-Set (서로소 집합) 이란?

서로 중복되지 않는 부분 집합들로 나눠진 원소들에 대한 정보를 저장하고 조작하는 자료구조이다. 즉 공통 원소가 없는 부분 집합들로 나눠진 원소들에 대한 자료구조이다.

집합을 구현하는데 비트 벡터, 배열, 연결리스트를 사용할 수 있으나, 가장 효율적인 트리 구조를 이용하여 구현함.

### Union-Find 알고리즘의 과정

Union find 알고리즘은 초기화 (makeSet) - 합치기 (union) - 찾기 (find) 연산 과정을 거침

- **초기화 (makeSet)** <br>
  union 과 find 연산을 하기 전, 각 노드를 하나의 집합으로 초기화하는 과정<br>
  ex. 0 부터 5 까지 노드가 있을 때 {0}, {1}, {2}, {3}, {4}, {5} 처럼 하나의 유일한 노드를 가지는 집합으로 만든다.

- **합치기 (union)**<br>
  두 집합을 합치는 과정 <br>
  ex. 위의 예시에서 0 과 1 번 노드를 합친다면 {0,1}, {2}, {3}, {4}, {5} 처럼 집합이 합해져 하나의 집합이 된다.

- **찾기 (find)**<br>
  주어진 노드가 속한 집합의 대표 노드를 반환

### 집합을 어떠한 자료구조로 표현하는 것이 좋을까?

트리 구조가 가장 효율적인 자료구조로서 사용됨. 트리 구조는 루트 노드가 존재하므로 대표 원소로 설정하기 좋음

### 기본적인 구현 방법

```
parents = [i for i in range(MAX_SIZE)]

# 재귀 함수
def find(parent, x):
    # 루트 노드의 부모 노드 번호는 자기 자신이다.
    if parent[x] == x:
        return x

    # 각 노드의 부모 노드를 찾아 올라간다.
    else:
        return find(parent, parent[x])


def union(parent, x, y):
    # 각 원소가 속한 트리의 루트 노드를 찾는다.
    rootX = find(parent, x)
    rootY = find(parent, y)

    parent[rootY] = rootX
```
